import{S as qe,i as He,s as Re,k as c,q as I,l as u,m as d,r as T,h as o,n as l,b as S,E as r,B as se,a as N,w as Ge,c as k,x as Me,I as Ye,y as ze,F as be,u as xe,f as Ce,t as je,z as Je,H as Ke,o as Qe}from"../../../chunks/index-d6978d90.js";import{g as Oe,T as P}from"../../../chunks/Toast-bb0da629.js";import{g as We,a as Xe}from"../../../chunks/index-0f9529d3-2d442c46.js";function Ze(i){let e,t,a;return{c(){e=c("div"),t=c("h1"),a=I("Your Trips"),this.h()},l(n){e=u(n,"DIV",{class:!0});var _=d(e);t=u(_,"H1",{class:!0});var m=d(t);a=T(m,"Your Trips"),m.forEach(o),_.forEach(o),this.h()},h(){l(t,"class","text-xl p-4"),l(e,"class","card w-3/5 bg-base-100 shadow-xl")},m(n,_){S(n,e,_),r(e,t),r(t,a)},p:se,i:se,o:se,d(n){n&&o(e)}}}class et extends qe{constructor(e){super(),He(this,e,null,Ze,Re,{})}}function tt(i){let e;return{c(){e=I("Add your phoneNumber")},l(t){e=T(t,"Add your phoneNumber")},m(t,a){S(t,e,a)},d(t){t&&o(e)}}}function lt(i){let e;return{c(){e=I("Your phone number:")},l(t){e=T(t,"Your phone number:")},m(t,a){S(t,e,a)},d(t){t&&o(e)}}}function at(i){let e;return{c(){e=c("input"),this.h()},l(t){e=u(t,"INPUT",{type:!0,placeholder:!0,autocomplete:!0,id:!0,class:!0}),this.h()},h(){l(e,"type","text"),l(e,"placeholder","example +919552254685"),l(e,"autocomplete","tel"),l(e,"id","phoneFF"),l(e,"class","input input-bordered")},m(t,a){S(t,e,a)},p:se,d(t){t&&o(e)}}}function rt(i){let e,t;return{c(){e=c("input"),this.h()},l(a){e=u(a,"INPUT",{type:!0,placeholder:!0,autocomplete:!0,id:!0,class:!0}),this.h()},h(){var a,n;l(e,"type","text"),l(e,"placeholder","example +919552254685"),l(e,"autocomplete","tel"),e.readOnly=!0,e.value=t=(n=(a=i[0])==null?void 0:a.phoneNumber)!=null?n:i[1],l(e,"id","phoneFF"),l(e,"class","input input-bordered")},m(a,n){S(a,e,n)},p(a,n){var _,m;n&3&&t!==(t=(m=(_=a[0])==null?void 0:_.phoneNumber)!=null?m:a[1])&&e.value!==t&&(e.value=t)},d(a){a&&o(e)}}}function st(i){let e;return{c(){e=I("Add your Age")},l(t){e=T(t,"Add your Age")},m(t,a){S(t,e,a)},d(t){t&&o(e)}}}function ot(i){let e;return{c(){e=I("Your age:")},l(t){e=T(t,"Your age:")},m(t,a){S(t,e,a)},d(t){t&&o(e)}}}function nt(i){var Ne,ke,Ie,Te;let e,t,a,n,_,m,p,A,R=((ke=(Ne=i[0])==null?void 0:Ne.displayName)!=null?ke:"Loading...")+"",J,Z,f,K=((Te=(Ie=i[0])==null?void 0:Ie.email)!=null?Te:"Loading...")+"",ee,oe,v,B,V,ne,te,G,D,ce,ue,y,$,Y,ie,w,de,M,x,pe,fe,z,O,he,_e,C,q,H,me,ge;function ve(s,h){var b;return((b=s[0])==null?void 0:b.phoneNumber)||s[1]?lt:tt}let le=ve(i),L=le(i);function Ee(s,h){var b;return((b=s[0])==null?void 0:b.phoneNumber)||s[1]?rt:at}let ae=Ee(i),E=ae(i);function ye(s,h){return s[2]?ot:st}let re=ye(i),F=re(i);return q=new et({}),{c(){e=c("div"),t=c("div"),a=c("figure"),n=c("img"),m=N(),p=c("div"),A=c("h2"),J=I(R),Z=N(),f=c("p"),ee=I(K),oe=N(),v=c("div"),B=c("label"),V=c("span"),L.c(),ne=N(),E.c(),te=N(),G=c("label"),D=c("button"),ce=I("Update Phone Number"),ue=N(),y=c("div"),$=c("label"),Y=c("span"),F.c(),ie=N(),w=c("input"),de=N(),M=c("label"),x=c("button"),pe=I("Update Age"),fe=N(),z=c("div"),O=c("button"),he=I("Sign out"),_e=N(),C=c("div"),Ge(q.$$.fragment),this.h()},l(s){e=u(s,"DIV",{class:!0});var h=d(e);t=u(h,"DIV",{class:!0});var b=d(t);a=u(b,"FIGURE",{class:!0});var Q=d(a);n=u(Q,"IMG",{src:!0,alt:!0,class:!0}),Q.forEach(o),m=k(b),p=u(b,"DIV",{class:!0});var g=d(p);A=u(g,"H2",{class:!0});var W=d(A);J=T(W,R),W.forEach(o),Z=k(g),f=u(g,"P",{});var X=d(f);ee=T(X,K),X.forEach(o),oe=k(g),v=u(g,"DIV",{class:!0});var U=d(v);B=u(U,"LABEL",{class:!0,for:!0});var Ae=d(B);V=u(Ae,"SPAN",{class:!0});var Le=d(V);L.l(Le),Le.forEach(o),Ae.forEach(o),ne=k(U),E.l(U),te=k(U),G=u(U,"LABEL",{class:!0});var Fe=d(G);D=u(Fe,"BUTTON",{class:!0});var Ue=d(D);ce=T(Ue,"Update Phone Number"),Ue.forEach(o),Fe.forEach(o),U.forEach(o),ue=k(g),y=u(g,"DIV",{class:!0});var j=d(y);$=u(j,"LABEL",{class:!0,for:!0});var we=d($);Y=u(we,"SPAN",{class:!0});var Pe=d(Y);F.l(Pe),Pe.forEach(o),we.forEach(o),ie=k(j),w=u(j,"INPUT",{type:!0,placeholder:!0,autocomplete:!0,id:!0,class:!0}),de=k(j),M=u(j,"LABEL",{class:!0});var Se=d(M);x=u(Se,"BUTTON",{class:!0});var Be=d(x);pe=T(Be,"Update Age"),Be.forEach(o),Se.forEach(o),j.forEach(o),fe=k(g),z=u(g,"DIV",{class:!0});var Ve=d(z);O=u(Ve,"BUTTON",{class:!0});var De=d(O);he=T(De,"Sign out"),De.forEach(o),Ve.forEach(o),g.forEach(o),b.forEach(o),_e=k(h),C=u(h,"DIV",{class:!0});var $e=d(C);Me(q.$$.fragment,$e),$e.forEach(o),h.forEach(o),this.h()},h(){var s,h;Ye(n.src,_=(h=(s=i[0])==null?void 0:s.photoURL)!=null?h:"/images/blank-profile-pic.png")||l(n,"src",_),l(n,"alt","Shoes"),l(n,"class","rounded-xl"),l(a,"class","px-10 pt-10"),l(A,"class","card-title"),l(V,"class","label-text"),l(B,"class","label"),l(B,"for","phoneNoFormElement"),l(D,"class","btn btn-primary"),l(G,"class","label"),l(v,"class","form-control"),l(Y,"class","label-text"),l($,"class","label"),l($,"for","ageFF"),l(w,"type","text"),l(w,"placeholder","example +919552254685"),l(w,"autocomplete","age"),l(w,"id","ageFF"),l(w,"class","input input-bordered"),l(x,"class","btn btn-primary"),l(M,"class","label"),l(y,"class","form-control"),l(O,"class","btn btn-primary"),l(z,"class","form-control mt-6"),l(p,"class","card-body items-center text-center"),l(t,"class","card w-2/5 bg-base-100 shadow-xl float-left glass"),l(C,"class","w-3/5 float-right"),l(e,"class","flow-root")},m(s,h){S(s,e,h),r(e,t),r(t,a),r(a,n),r(t,m),r(t,p),r(p,A),r(A,J),r(p,Z),r(p,f),r(f,ee),r(p,oe),r(p,v),r(v,B),r(B,V),L.m(V,null),r(v,ne),E.m(v,null),r(v,te),r(v,G),r(G,D),r(D,ce),r(p,ue),r(p,y),r(y,$),r($,Y),F.m(Y,null),r(y,ie),r(y,w),r(y,de),r(y,M),r(M,x),r(x,pe),r(p,fe),r(p,z),r(z,O),r(O,he),r(e,_e),r(e,C),ze(q,C,null),H=!0,me||(ge=[be(D,"click",i[6]),be(x,"click",i[7]),be(O,"click",i[8])],me=!0)},p(s,[h]){var b,Q,g,W,X,U;(!H||h&1&&!Ye(n.src,_=(Q=(b=s[0])==null?void 0:b.photoURL)!=null?Q:"/images/blank-profile-pic.png"))&&l(n,"src",_),(!H||h&1)&&R!==(R=((W=(g=s[0])==null?void 0:g.displayName)!=null?W:"Loading...")+"")&&xe(J,R),(!H||h&1)&&K!==(K=((U=(X=s[0])==null?void 0:X.email)!=null?U:"Loading...")+"")&&xe(ee,K),le!==(le=ve(s))&&(L.d(1),L=le(s),L&&(L.c(),L.m(V,null))),ae===(ae=Ee(s))&&E?E.p(s,h):(E.d(1),E=ae(s),E&&(E.c(),E.m(v,te))),re!==(re=ye(s))&&(F.d(1),F=re(s),F&&(F.c(),F.m(Y,null)))},i(s){H||(Ce(q.$$.fragment,s),H=!0)},o(s){je(q.$$.fragment,s),H=!1},d(s){s&&o(e),L.d(),E.d(),F.d(),Je(q),me=!1,Ke(ge)}}}const ct=/^[6-9]\d{9}$/gi;function ut(i,e,t){var a=We();let n,_;Qe(()=>{if(!a.currentUser){Oe("/login");return}t(0,n=a.currentUser),t(1,_=localStorage.getItem("phoneNo"));var f=localStorage.getItem("age");t(2,m=f==null?null:Number.parseInt(f))});let m;function p(){let f=document.getElementById("phoneFF").value;if(!ct.test(f)){P.addToast(new P("error","Invalid Indian Phone Number"),7e3);return}localStorage.setItem("phoneNo",f),t(1,_=f),P.addToast(new P("success","Phone Number updated."),5e3)}function A(){let f=document.getElementById("ageFF").value;localStorage.setItem("age",f),t(2,m=Number.parseInt(f)),P.addToast(new P("success","Age updated."),5e3)}return[n,_,m,a,p,A,()=>p(),()=>A(),()=>Xe(a).then(()=>Oe("/")).catch(f=>P.addToast(new P("error",`Error: ${f}`),7e3))]}class ft extends qe{constructor(e){super(),He(this,e,ut,nt,Re,{})}}export{ft as default};
