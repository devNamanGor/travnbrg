import{S as we,i as De,s as Oe,k as c,a as A,q as T,l as i,m as h,h as s,c as F,r as U,I as Pe,n as l,b as R,E as r,F as de,u as Se,B as pe,H as Ve,o as Ye}from"../../../chunks/index-d6978d90.js";import{g as Be,T as S}from"../../../chunks/Toast-be7a1e07.js";import{g as qe,a as Re}from"../../../chunks/index-0f9529d3-2d442c46.js";function Ge(n){let e;return{c(){e=T("Add your phoneNumber")},l(t){e=U(t,"Add your phoneNumber")},m(t,a){R(t,e,a)},d(t){t&&s(e)}}}function He(n){let e;return{c(){e=T("Your phone number:")},l(t){e=U(t,"Your phone number:")},m(t,a){R(t,e,a)},d(t){t&&s(e)}}}function Me(n){let e;return{c(){e=c("input"),this.h()},l(t){e=i(t,"INPUT",{type:!0,placeholder:!0,autocomplete:!0,id:!0,class:!0}),this.h()},h(){l(e,"type","text"),l(e,"placeholder","example +919552254685"),l(e,"autocomplete","tel"),l(e,"id","phoneFF"),l(e,"class","input input-bordered")},m(t,a){R(t,e,a)},p:pe,d(t){t&&s(e)}}}function Ce(n){let e,t;return{c(){e=c("input"),this.h()},l(a){e=i(a,"INPUT",{type:!0,placeholder:!0,autocomplete:!0,id:!0,class:!0}),this.h()},h(){var a,m;l(e,"type","text"),l(e,"placeholder","example +919552254685"),l(e,"autocomplete","tel"),e.readOnly=!0,e.value=t=(m=(a=n[0])==null?void 0:a.phoneNumber)!=null?m:n[1],l(e,"id","phoneFF"),l(e,"class","input input-bordered")},m(a,m){R(a,e,m)},p(a,m){var v,u;m&3&&t!==(t=(u=(v=a[0])==null?void 0:v.phoneNumber)!=null?u:a[1])&&e.value!==t&&(e.value=t)},d(a){a&&s(e)}}}function je(n){let e;return{c(){e=T("Add your Age")},l(t){e=U(t,"Add your Age")},m(t,a){R(t,e,a)},d(t){t&&s(e)}}}function ze(n){let e;return{c(){e=T("Your age:")},l(t){e=U(t,"Your age:")},m(t,a){R(t,e,a)},d(t){t&&s(e)}}}function Je(n){var be,ge,ve,Ee;let e,t,a,m,v,u,N,L=((ge=(be=n[0])==null?void 0:be.displayName)!=null?ge:"Loading...")+"",z,W,G,d=((Ee=(ve=n[0])==null?void 0:ve.email)!=null?Ee:"Loading...")+"",X,te,_,B,w,le,Z,H,D,ae,re,E,O,V,oe,P,se,M,Y,ne,ue,C,q,ce,ie,he;function me(o,p){var g;return((g=o[0])==null?void 0:g.phoneNumber)||o[1]?He:Ge}let x=me(n),k=x(n);function fe(o,p){var g;return((g=o[0])==null?void 0:g.phoneNumber)||o[1]?Ce:Me}let $=fe(n),b=$(n);function _e(o,p){return o[2]?ze:je}let ee=_e(n),y=ee(n);return{c(){e=c("div"),t=c("figure"),a=c("img"),v=A(),u=c("div"),N=c("h2"),z=T(L),W=A(),G=c("p"),X=T(d),te=A(),_=c("div"),B=c("label"),w=c("span"),k.c(),le=A(),b.c(),Z=A(),H=c("label"),D=c("button"),ae=T("Update Phone Number"),re=A(),E=c("div"),O=c("label"),V=c("span"),y.c(),oe=A(),P=c("input"),se=A(),M=c("label"),Y=c("button"),ne=T("Update Age"),ue=A(),C=c("div"),q=c("button"),ce=T("Sign out"),this.h()},l(o){e=i(o,"DIV",{class:!0});var p=h(e);t=i(p,"FIGURE",{class:!0});var g=h(t);a=i(g,"IMG",{src:!0,alt:!0,class:!0}),g.forEach(s),v=F(p),u=i(p,"DIV",{class:!0});var f=h(u);N=i(f,"H2",{class:!0});var J=h(N);z=U(J,L),J.forEach(s),W=F(f),G=i(f,"P",{});var K=h(G);X=U(K,d),K.forEach(s),te=F(f),_=i(f,"DIV",{class:!0});var I=h(_);B=i(I,"LABEL",{class:!0,for:!0});var Q=h(B);w=i(Q,"SPAN",{class:!0});var Ne=h(w);k.l(Ne),Ne.forEach(s),Q.forEach(s),le=F(I),b.l(I),Z=F(I),H=i(I,"LABEL",{class:!0});var ke=h(H);D=i(ke,"BUTTON",{class:!0});var ye=h(D);ae=U(ye,"Update Phone Number"),ye.forEach(s),ke.forEach(s),I.forEach(s),re=F(f),E=i(f,"DIV",{class:!0});var j=h(E);O=i(j,"LABEL",{class:!0,for:!0});var Ie=h(O);V=i(Ie,"SPAN",{class:!0});var Ae=h(V);y.l(Ae),Ae.forEach(s),Ie.forEach(s),oe=F(j),P=i(j,"INPUT",{type:!0,placeholder:!0,autocomplete:!0,id:!0,class:!0}),se=F(j),M=i(j,"LABEL",{class:!0});var Fe=h(M);Y=i(Fe,"BUTTON",{class:!0});var Te=h(Y);ne=U(Te,"Update Age"),Te.forEach(s),Fe.forEach(s),j.forEach(s),ue=F(f),C=i(f,"DIV",{class:!0});var Ue=h(C);q=i(Ue,"BUTTON",{class:!0});var Le=h(q);ce=U(Le,"Sign out"),Le.forEach(s),Ue.forEach(s),f.forEach(s),p.forEach(s),this.h()},h(){var o,p;Pe(a.src,m=(p=(o=n[0])==null?void 0:o.photoURL)!=null?p:"/images/blank-profile-pic.png")||l(a,"src",m),l(a,"alt","Shoes"),l(a,"class","rounded-xl"),l(t,"class","px-10 pt-10"),l(N,"class","card-title"),l(w,"class","label-text"),l(B,"class","label"),l(B,"for","phoneNoFormElement"),l(D,"class","btn btn-primary"),l(H,"class","label"),l(_,"class","form-control"),l(V,"class","label-text"),l(O,"class","label"),l(O,"for","ageFF"),l(P,"type","text"),l(P,"placeholder","example +919552254685"),l(P,"autocomplete","age"),l(P,"id","ageFF"),l(P,"class","input input-bordered"),l(Y,"class","btn btn-primary"),l(M,"class","label"),l(E,"class","form-control"),l(q,"class","btn btn-primary"),l(C,"class","form-control mt-6"),l(u,"class","card-body items-center text-center"),l(e,"class","card w-96 bg-base-100 shadow-xl")},m(o,p){R(o,e,p),r(e,t),r(t,a),r(e,v),r(e,u),r(u,N),r(N,z),r(u,W),r(u,G),r(G,X),r(u,te),r(u,_),r(_,B),r(B,w),k.m(w,null),r(_,le),b.m(_,null),r(_,Z),r(_,H),r(H,D),r(D,ae),r(u,re),r(u,E),r(E,O),r(O,V),y.m(V,null),r(E,oe),r(E,P),r(E,se),r(E,M),r(M,Y),r(Y,ne),r(u,ue),r(u,C),r(C,q),r(q,ce),ie||(he=[de(D,"click",n[6]),de(Y,"click",n[7]),de(q,"click",n[8])],ie=!0)},p(o,[p]){var g,f,J,K,I,Q;p&1&&!Pe(a.src,m=(f=(g=o[0])==null?void 0:g.photoURL)!=null?f:"/images/blank-profile-pic.png")&&l(a,"src",m),p&1&&L!==(L=((K=(J=o[0])==null?void 0:J.displayName)!=null?K:"Loading...")+"")&&Se(z,L),p&1&&d!==(d=((Q=(I=o[0])==null?void 0:I.email)!=null?Q:"Loading...")+"")&&Se(X,d),x!==(x=me(o))&&(k.d(1),k=x(o),k&&(k.c(),k.m(w,null))),$===($=fe(o))&&b?b.p(o,p):(b.d(1),b=$(o),b&&(b.c(),b.m(_,Z))),ee!==(ee=_e(o))&&(y.d(1),y=ee(o),y&&(y.c(),y.m(V,null)))},i:pe,o:pe,d(o){o&&s(e),k.d(),b.d(),y.d(),ie=!1,Ve(he)}}}const Ke=/^[6-9]\d{9}$/gi;function Qe(n,e,t){var a=qe();let m,v;Ye(()=>{if(!a.currentUser){Be("/login");return}t(0,m=a.currentUser),t(1,v=localStorage.getItem("phoneNo"));var d=localStorage.getItem("age");t(2,u=d==null?null:Number.parseInt(d))});let u;function N(){let d=document.getElementById("phoneFF").value;if(!Ke.test(d)){S.addToast(new S("error","Invalid Indian Phone Number"),7e3);return}localStorage.setItem("phoneNo",d),t(1,v=d),S.addToast(new S("success","Phone Number updated."),5e3)}function L(){let d=document.getElementById("ageFF").value;localStorage.setItem("age",d),t(2,u=Number.parseInt(d)),S.addToast(new S("success","Age updated."),5e3)}return[m,v,u,a,N,L,()=>N(),()=>L(),()=>Re(a).then(()=>Be("/")).catch(d=>S.addToast(new S("error",`Error: ${d}`),7e3))]}class xe extends we{constructor(e){super(),De(this,e,Qe,Je,Oe,{})}}export{xe as default};
